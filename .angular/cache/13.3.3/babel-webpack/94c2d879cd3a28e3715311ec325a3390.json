{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet ProjectsListComponent = class ProjectsListComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.projects = [];\n    this.p = 1;\n    this.selectedOption = 'asc';\n    this.industryId = '';\n    this.projectTypeId = '';\n    this.frameworkId = '';\n    this.options = [{\n      name: 'Most Recent',\n      value: 'desc'\n    }, {\n      name: 'Oldest',\n      value: 'asc'\n    }];\n  }\n\n  loadMore() {\n    this.p = ++this.p;\n    this.apiService.getProjects(this.selectedOption, this.p, this.frameworkId, this.industryId, this.projectTypeId).subscribe(response => {\n      response.forEach(project => {\n        // this.projects.push(project);\n        this.projects = [...this.projects, project];\n      });\n    }, err => {\n      console.log(err);\n      console.log('No more pages to load');\n    });\n  }\n\n  ngOnInit() {\n    console.log(this.selectedOption);\n    this.apiService.getProjects(this.selectedOption, this.p, this.frameworkId, this.industryId, this.projectTypeId).subscribe(response => {\n      this.projects = response;\n    });\n  }\n\n  ngOnChanges() {\n    this.apiService.getProjects(this.selectedOption, this.p, this.frameworkId, this.industryId, this.projectTypeId).subscribe(response => {\n      this.projects = response;\n    });\n  }\n\n  handleSortBy() {\n    this.apiService.getProjects(this.selectedOption, this.p, this.frameworkId, this.industryId, this.projectTypeId).subscribe(response => {\n      this.projects = response;\n    });\n  }\n\n};\n\n__decorate([Input()], ProjectsListComponent.prototype, \"industryId\", void 0);\n\n__decorate([Input()], ProjectsListComponent.prototype, \"projectTypeId\", void 0);\n\n__decorate([Input()], ProjectsListComponent.prototype, \"frameworkId\", void 0);\n\nProjectsListComponent = __decorate([Component({\n  selector: 'app-projects-list',\n  templateUrl: './projects-list.component.html',\n  styleUrls: ['./projects-list.component.scss']\n})], ProjectsListComponent);\nexport { ProjectsListComponent };","map":null,"metadata":{},"sourceType":"module"}