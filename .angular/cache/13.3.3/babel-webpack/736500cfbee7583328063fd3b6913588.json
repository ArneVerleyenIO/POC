{"ast":null,"code":"// import { Component, OnInit } from '@angular/core';\n// import { ActivatedRoute } from '@angular/router';\n// import { ApiService  } from '../shared/services/api.service';\n// import { Page } from '../shared/models/page.model';\nimport { __decorate } from \"tslib\"; // @Component({\n//   selector: 'app-page',\n//   templateUrl: './page.component.html',\n//   styleUrls: ['./page.component.scss']\n// })\n// export class PageComponent implements OnInit {\n//   page: Page[] = [];\n//   pageNotFound: boolean = false;\n//   title: string = '';\n//   content: string = '';\n//   constructor(\n//     private route: ActivatedRoute,\n//     private apiService: ApiService,\n//   ) { }\n//   loadPage () {\n//     this.route.params\n//     .subscribe(\n//       params => {\n//         const page = params['page'];\n//         this.apiService.getPage(page)\n//         .subscribe(\n//           response => {\n//             this.page = response;\n//             this.title = response.title.rendered;\n//             this.content = response.content.rendered;\n//             console.log(response);\n//           },\n//           error => {\n//             if (error.status === 404) {\n//               this.pageNotFound = true;\n//             }\n//             console.log(error);\n//           }\n//         )\n//       }\n//     )\n//   }\n//   ngOnInit(): void {\n//     this.loadPage();\n//   }\n// }\n\nimport { Component } from '@angular/core';\nimport { Components } from './components';\nlet PageComponent = class PageComponent {\n  constructor(storyblokService) {\n    this.storyblokService = storyblokService;\n    this.story = {\n      content: null,\n      name: ''\n    };\n    this.components = Components;\n    window.storyblok.init();\n    window.storyblok.on(['change', 'published'], function () {\n      // location.reload(true)\n      location.reload();\n    });\n  }\n\n  ngOnInit() {\n    this.storyblokService.getStory('home', {\n      version: 'draft'\n    }).then(data => this.story = data.story);\n  }\n\n};\nPageComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})], PageComponent);\nexport { PageComponent };","map":null,"metadata":{},"sourceType":"module"}